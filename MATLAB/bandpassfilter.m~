function [S_o,outputArg2] = bandpassfilter(S_i,Fs,Fbw,BWrel_transband,Atten_stopband)
%Bandpass filters data and returns it, 
%   Detailed explanation goes here
%test of filter on delta distance
F_low_1 = Fbw(1)*(1-BWrel_transband)
F_low_2 = Fbw(1)

F_high_1 = Fbw(2)
F_high_2 = Fbw(2)*(1+BWrel_transband)


%Kaiser filter test start
LpFilt = designfilt('lowpassfir', ...
                    'PassbandFrequency',F_high_1, ...
                    'StopbandFrequency',F_high_2, ...
                    'PassbandRipple',0.1, ...
                    'StopbandAttenuation',Atten_stopband, ...
                    'SampleRate',Fs, ...
                    'DesignMethod','kaiserwin');
                
HpFilt = designfilt('highpassfir', ...
                    'PassbandFrequency',F_low_2, ...
                    'StopbandFrequency',F_low_1, ...
                    'PassbandRipple',0.1, ...
                    'StopbandAttenuation',Atten_stopband, ...
                    'SampleRate',Fs, ...
                    'DesignMethod','kaiserwin');
S_o = filter(LpFilt,S_i);
S_o = filter(HpFilt,S_i);

